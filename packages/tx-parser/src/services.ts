import * as access from './services/access';
import * as adrena from './services/adrena';
import * as allbridge from './services/allbridge';
import * as alldomain from './services/alldomain';
import * as amulet from './services/amulet';
import * as armada from './services/armada';
import * as atrix from './services/atrix';
import * as aurory from './services/aurory';
import * as backwoods from './services/backwoods';
import * as bananagun from './services/bananagun';
import * as banger from './services/banger';
import * as banx from './services/banx';
import * as believe from './services/believe';
import * as bio from './services/bio';
import * as bloom from './services/bloom';
import * as bonkrewards from './services/bonkrewards';
import * as boop from './services/boop';
import * as bouncebit from './services/bouncebit';
import * as bskt from './services/bskt';
import * as candle from './services/candle';
import * as carrot from './services/carrot';
import * as circle from './services/circle';
import * as citrus from './services/citrus';
import * as cropper from './services/cropper';
import * as cudis from './services/cudis';
import * as cyberfrog from './services/cyberfrog';
import * as cytonic from './services/cytonic';
import * as debridge from './services/debridge';
import * as defiland from './services/defiland';
import * as defituna from './services/defituna';
import * as degencoinflip from './services/degencoinflip';
import * as degods from './services/degods';
import * as dflow from './services/dflow';
import * as divvy from './services/divvy';
import * as drift from './services/drift';
import * as driftMMV from './services/drift-market-maker-vault';
import * as drip from './services/drip';
import * as dumpy from './services/dumpy';
import * as elemental from './services/elemental';
import * as ensofi from './services/ensofi';
import * as exponent from './services/exponent';
import * as famousfoxfederation from './services/famousfoxfederation';
import * as fjordfoundry from './services/fjordfoundry';
import * as flash from './services/flash';
import * as fluxbeam from './services/fluxbeam';
import * as fragmetric from './services/fragmetric';
import * as francium from './services/francium';
import * as futarchy from './services/futarchy';
import * as genesysgo from './services/genesysgo';
import * as glow from './services/glow';
import * as goosefx from './services/goosefx';
import * as gpool from './services/oresupply';
import * as grass from './services/grass';
import * as guano from './services/guano';
import * as haven from './services/haven';
import * as hawkfi from './services/hawkfi';
import * as hedgehog from './services/hedgehog';
import * as helio from './services/helio';
import * as helium from './services/helium';
import * as honeyland from './services/honeyland';
import * as huma from './services/huma';
import * as hxro from './services/hxro';
import * as hylo from './services/hylo';
import * as iloop from './services/iloop';
import * as jito from './services/jito';
import * as jupiter from './services/jupiter';
import * as lavarage from './services/lavarage';
import * as layer3 from './services/layer3';
import * as kamino from './services/kamino';
import * as lifinity from './services/lifinity';
import * as loopscale from './services/loopscale';
import * as lulo from './services/lulo';
import * as madlads from './services/madlads';
import * as maestro from './services/maestro';
import * as magiceden from './services/magiceden';
import * as marginfi from './services/marginfi';
import * as marinade from './services/marinade';
import * as mayan from './services/mayan';
import * as metaplex from './services/metaplex';
import * as magna from './services/magna';
import * as mango from './services/mango';
import * as maple from './services/maple';
import * as meteora from './services/meteora';
import * as mintech from './services/mintech';
import * as moonwalk from './services/moonwalk';
import * as nirvana from './services/nirvana';
import * as nosana from './services/nosana';
import * as nxfinance from './services/nxfinance';
import * as okx from './services/okx';
import * as only1 from './services/only1';
import * as openbook from './services/openbook';
import * as openloop from './services/openloop';
import * as orca from './services/orca';
import * as orderly from './services/orderly';
import * as parcl from './services/parcl';
import * as pengu from './services/pengu';
import * as perena from './services/perena';
import * as phantom from './services/phantom';
import * as phoenix from './services/phoenix';
import * as photon from './services/photon';
import * as picasso from './services/picasso';
import * as pluto from './services/pluto';
import * as puffcoin from './services/puffcoin';
import * as pumpfun from './services/pumpfun';
import * as pumpkin from './services/pumpkin';
import * as pumpswap from './services/pumpswap';
import * as pyth from './services/pyth';
import * as quarry from './services/quarry';
import * as rain from './services/rain';
import * as ratex from './services/ratex';
import * as raydium from './services/raydium';
import * as realms from './services/realms';
import * as relay from './services/relay';
import * as runemine from './services/runemine';
import * as sanctum from './services/sanctum';
import * as sandglass from './services/sandglass';
import * as save from './services/save';
import * as sentre from './services/sentre';
import * as serum from './services/serum';
import * as sharky from './services/sharky';
import * as smb from './services/smb';
import * as sns from './services/sns';
import * as solana from './services/solana';
import * as solanaid from './services/solanaid';
import * as solayer from './services/solayer';
import * as solcasino from './services/solcasino';
import * as solincinerator from './services/solincinerator';
import * as solsea from './services/solsea';
import * as sonic from './services/sonic';
import * as spice from './services/spice';
import * as spiderswap from './services/spiderswap';
import * as squads from './services/squads';
import * as stabble from './services/stabble';
import * as staratlas from './services/staratlas';
import * as stepfinance from './services/stepfinance';
import * as streamflow from './services/streamflow';
import * as switchboard from './services/switchboard';
import * as symmetry from './services/symmetry';
import * as tensor from './services/tensor';
import * as texture from './services/texture';
import * as tiplink from './services/tiplink';
import * as titan from './services/titan';
import * as triad from './services/triad';
import * as underdog from './services/underdog';
import * as unknown from './services/unknown';
import * as uxd from './services/uxd';
import * as vaultka from './services/vaultka';
import * as vidar from './services/vidar';
import * as whalesmarket from './services/whalesmarket';
import * as wormhole from './services/wormhole';
import * as zelo from './services/zelo';
import * as zeta from './services/zeta';
import * as zeus from './services/zeus';
import { ServiceDefinition, ServicePriority } from './ServiceDefinition';

export const services: ServiceDefinition[] = [
  access,
  adrena,
  allbridge,
  alldomain,
  amulet,
  armada,
  atrix,
  aurory,
  backwoods,
  bananagun,
  banger,
  banx,
  believe,
  bio,
  bloom,
  bonkrewards,
  boop,
  bouncebit,
  bskt,
  candle,
  carrot,
  circle,
  citrus,
  cropper,
  cudis,
  cyberfrog,
  cytonic,
  debridge,
  defiland,
  defituna,
  dflow,
  degencoinflip,
  degods,
  divvy,
  drift,
  driftMMV,
  drip,
  dumpy,
  elemental,
  ensofi,
  exponent,
  famousfoxfederation,
  fjordfoundry,
  flash,
  fluxbeam,
  fragmetric,
  francium,
  futarchy,
  genesysgo,
  glow,
  goosefx,
  gpool,
  grass,
  guano,
  haven,
  hawkfi,
  hedgehog,
  helio,
  helium,
  honeyland,
  huma,
  hxro,
  hylo,
  iloop,
  jito,
  jupiter,
  kamino,
  lavarage,
  layer3,
  lifinity,
  loopscale,
  lulo,
  madlads,
  maestro,
  magiceden,
  marginfi,
  marinade,
  mayan,
  metaplex,
  magna,
  mango,
  maple,
  meteora,
  mintech,
  moonwalk,
  nirvana,
  nosana,
  nxfinance,
  okx,
  only1,
  openbook,
  openloop,
  orca,
  orderly,
  parcl,
  pengu,
  perena,
  phantom,
  phoenix,
  photon,
  picasso,
  pluto,
  puffcoin,
  pumpfun,
  pumpkin,
  pumpswap,
  pyth,
  quarry,
  rain,
  ratex,
  raydium,
  realms,
  relay,
  runemine,
  sanctum,
  sandglass,
  save,
  sentre,
  serum,
  sharky,
  smb,
  sns,
  solana,
  solanaid,
  solayer,
  solcasino,
  solincinerator,
  solsea,
  sonic,
  spice,
  spiderswap,
  squads,
  stabble,
  staratlas,
  stepfinance,
  streamflow,
  switchboard,
  symmetry,
  tensor,
  texture,
  tiplink,
  titan,
  triad,
  underdog,
  unknown,
  uxd,
  vaultka,
  vidar,
  whalesmarket,
  wormhole,
  zelo,
  zeta,
  zeus,
]
  .map((m) => m.default)
  .flat();

export const sortedServiceDefinitions = services.sort((a, b) => {
  const prioA = a.priority === undefined ? ServicePriority.default : a.priority;
  const prioB = b.priority === undefined ? ServicePriority.default : b.priority;

  const countContractsB = b.contracts?.length || 0;
  const countContractsA = a.contracts?.length || 0;

  // If service has macthTransaction it has the priority
  if (a.matchTransaction && !b.matchTransaction) {
    return -1;
  }
  if (!a.matchTransaction && b.matchTransaction) {
    return 1;
  }
  // If both services have matchTransaction, sort by priority
  if (a.matchTransaction && b.matchTransaction) {
    // sort by priority first
    if (prioA !== prioB) {
      return prioB - prioA;
    }
    // then by number of contracts
    return countContractsB - countContractsA;
  }

  // If both services have no matchTransaction, sort by priority
  if (prioA !== prioB) {
    return prioB - prioA;
  }
  // If both services have the same priority, sort by number of contracts
  return countContractsB - countContractsA;
});
